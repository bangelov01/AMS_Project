 @model PaginationViewModel

 @{
    var previousPage = Model.CurrentPage - 1;

    double maxPageShow = 3;

    var maxPage = Math.Ceiling((double)Model.TotalItems / Model.ItemsPerPage);

    var shouldButtonBeDisabled = Model.CurrentPage == maxPage ||
                             Model.ItemsCount == 0;

    if (previousPage < 1)
    {
        previousPage = 1;
    }

    if (maxPage < maxPageShow)
    {
        maxPageShow = maxPage;
    }

    var hasId = @Model.Id != null;
}

<nav aria-label="...">
    <ul class="pagination justify-content-center mt-5">
        <li class="page-item @(Model.CurrentPage == 1 ? "disabled" : string.Empty)">
            <a class="page-link" asp-controller="@Model.ControllerName" asp-action="All" asp-route-currentPage="@previousPage" asp-route-Id="@(hasId ? Model.Id : string.Empty)">Previous</a>
        </li>
        @for (int i = 1; i <= maxPageShow; i++)
        {
            <li class="page-item @(Model.CurrentPage == i ? "active" : string.Empty)"><a class="page-link" asp-controller="@Model.ControllerName" asp-action="All" asp-route-currentPage="@i" asp-route-Id="@(hasId ? Model.Id : string.Empty)">@i</a></li>
        }
        <li class="page-item @(shouldButtonBeDisabled ? "disabled" : string.Empty)">
            <a class="page-link" asp-controller="@Model.ControllerName" asp-action="All" asp-route-currentPage="@(Model.CurrentPage + 1)" asp-route-Id="@(hasId ? Model.Id : string.Empty)">Next</a>
        </li>
    </ul>
</nav>
